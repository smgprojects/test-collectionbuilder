<!doctype html>
<html lang="en">
  <head prefix="og: http://ogp.me/ns#">
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Map | Degree Research Showcase</title>
<link rel="shortcut icon" type="image/x-icon" href="/test-collectionbuilder/favicon.ico">
<!--

  _____     ____        __  _           ___       _ __   __       
 / ___/__  / / /__ ____/ /_(_)__  ___  / _ )__ __(_) /__/ /__ ____
/ /__/ _ \/ / / -_) __/ __/ / _ \/ _ \/ _  / // / / / _  / -_) __/
\___/\___/_/_/\__/\__/\__/_/\___/_//_/____/\_,_/_/_/\_,_/\__/_/   
                                                                
    built with CollectionBuilder-CSV
    https://github.com/CollectionBuilder/collectionbuilder-csv
-->
<meta name="generator" content="collectionbuilder-csv" />
<meta http-equiv="Content-Language" content="en-us" >

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.3.1/simplex/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="/test-collectionbuilder/assets/lib/leaflet/leaflet.css">
<link rel="stylesheet" href="/test-collectionbuilder/assets/lib/leaflet/leaflet.fusesearch.css"><link rel="stylesheet" href="/test-collectionbuilder/assets/lib/leaflet/MarkerCluster.css">
<link rel="stylesheet" href="/test-collectionbuilder/assets/lib/leaflet/MarkerCluster.Default.css"><link rel="stylesheet" href="/test-collectionbuilder/assets/css/custom.css" type="text/css">



<meta name="description" content="This site draws from the Carleton Institutional repository of student theses, and other sources, to bring all of our students&#39; degree work into one location. Built with CollectionBuilder from the Digital Initiatives, University of Idaho Library">
<meta name="author" content="SMG Adapting CollectionBuilder, Department of History" >
<!-- Open Graph meta -->
<meta property="og:title" content="Map | Degree Research Showcase" />
<meta property="og:description" content="This site draws from the Carleton Institutional repository of student theses, and other sources, to bring all of our students&#39; degree work into one location. Built with CollectionBuilder from the Digital Initiatives, University of Idaho Library" />
<meta property="og:site_name" content="Degree Research Showcase" />
<meta property="og:type" content="website" />
<meta property="og:image" content="https://carleton.ca/history/wp-content/uploads/seated-student-in-grad-offices.jpg" />
<meta property="og:image:alt" content="Degree Research Showcase" />
<meta property="og:url" content="https://smgprojects.github.io/test-collectionbuilder/map.html" />
<meta property="og:locale" content="en_US" />
<!-- schema.org JSON-LD -->
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"Map | Degree Research Showcase","publisher": { "@context": "https://schema.org", "@type": "Organization", "name": "Department of History", "url": "https://carleton.ca/history", "logo": "https://cu-production.s3.amazonaws.com/theme-admissions-2020/assets/img/cu-white-outlined-21.svg" },"description":"This site draws from the Carleton Institutional repository of student theses, and other sources, to bring all of our students' degree work into one location. Built with CollectionBuilder from the Digital Initiatives, University of Idaho Library","image":"https://carleton.ca/history/wp-content/uploads/seated-student-in-grad-offices.jpg","url":"https://smgprojects.github.io/test-collectionbuilder/map.html"}</script> 
<!-- breadcrumbs schema -->
<script type="application/ld+json">{"@context": "http://schema.org", "@type": "BreadcrumbList", "itemListElement": [{ "@type": "ListItem", "position": 1, "item": { "@id": "https://smgprojects.github.io/test-collectionbuilder/", "name": "Degree Research Showcase" } },{ "@type": "ListItem", "position": 2, "item": { "@id": "https://smgprojects.github.io/test-collectionbuilder/map.html", "name": "Map" } }] }</script>


<!-- Analytics --> 
<!-- Last build date: 2022-01-17 -->
  </head>
  <body>
    <div id="skip-to-content"><a href="#maincontent">Skip to main content</a></div>
    <div class="container">
    <div class="row align-items-center">
        <div id="title" class="col-md-9">
            <h1><a class="text-dark font-weight-normal" href="/test-collectionbuilder/" >Degree Research Showcase</a></h1>	 
            <p>A showcase for graduate student theses, major research essays, and other projects in the Department of History, Carleton U</p>
        </div>
        <div class="col-md-3 d-none d-lg-block text-right">
            <a class="btn btn-outline-light" href="https://carleton.ca/history" target="_blank" rel="noopener">
                <img class="img-fluid" src="https://cu-production.s3.amazonaws.com/theme-admissions-2020/assets/img/cu-white-outlined-21.svg" title="Department of History" alt="Department of History home" >
            </a>
        </div>
    </div>
</div>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#page-nav" aria-controls="page-nav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <span class="d-lg-none text-right">
            <a href="https://carleton.ca/history" target="_blank" rel="noopener">
                <img class="img-fluid" id="mobile-nav-image" src="https://cu-production.s3.amazonaws.com/theme-admissions-2020/assets/img/cu-white-outlined-21.svg" title="Department of History" alt="Department of History home" >
            </a>
        </span>

        <div class="collapse navbar-collapse" id="page-nav">
            <ul class="navbar-nav mr-auto">
                
                <li class="nav-item ">
                    <a class="nav-link " href="/test-collectionbuilder/">Home</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link " href="/test-collectionbuilder/browse.html">Browse</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link " href="/test-collectionbuilder/subjects.html">Subjects</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link " href="/test-collectionbuilder/locations.html">Locations</a>
                </li>
                
                <li class="nav-item active">
                    <a class="nav-link " href="/test-collectionbuilder/map.html">Map</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link " href="/test-collectionbuilder/timeline.html">Timeline</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link " href="/test-collectionbuilder/data.html">Data</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link " href="/test-collectionbuilder/about.html">About</a>
                </li></ul>
            <script>
    function site_search() {
        var query = document.getElementById("site-search").value;
        window.open("/test-collectionbuilder/search/index.html?q=" + encodeURIComponent(query), "_self" );
    }
</script>
<form class="form-inline my-2 my-lg-0" role="search" id="search" onsubmit="site_search(); return false;">
    <div class="input-group">
        <input id="site-search" class="form-control " type="text" placeholder="Search" aria-label="Search box">
        <div class="input-group-append">
            <button class="btn btn-light" type="submit">
                <span id="search-icon"><svg viewBox="0 0 1024 974" height="16px" width="20px"><path d="M960 832L710.875 582.875C746.438 524.812 768 457.156 768 384 768 171.96900000000005 596 0 384 0 171.969 0 0 171.96900000000005 0 384c0 212 171.969 384 384 384 73.156 0 140.812-21.562 198.875-57L832 960c17.5 17.5 46.5 17.375 64 0l64-64C977.5 878.5 977.5 849.5 960 832zM384 640c-141.375 0-256-114.625-256-256s114.625-256 256-256 256 114.625 256 256S525.375 640 384 640z"/></svg></span>
                <span class="sr-only">Search Objects</span>
            </button>
        </div>
    </div>
</form>
        </div>
    </div>    
</nav>

    <main id="maincontent" role="main">
      <div id="map"></div>

    </main>
    <footer class="bg-dark pt-4 container-fluid ">

    <div class="row border-bottom border-white pb-4 mb-2">

        <div class="col-md-7  px-4 mt-2">

            <h4><a href="/test-collectionbuilder/" class="text-white font-weight-normal">Degree Research Showcase</a></h4>
            <p class="text-white"><small>This site draws from the Carleton Institutional repository of student theses, and other sources, to bring all of our students' degree work into one location. Built with CollectionBuilder from the Digital Initiatives, University of Idaho Library</small></p>
            <nav>
                <ul class="nav nav-pills ">
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/test-collectionbuilder/">Home</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/test-collectionbuilder/browse.html">Browse</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/test-collectionbuilder/subjects.html">Subjects</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/test-collectionbuilder/locations.html">Locations</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light active" href="/test-collectionbuilder/map.html">Map</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/test-collectionbuilder/timeline.html">Timeline</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/test-collectionbuilder/data.html">Data</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/test-collectionbuilder/about.html">About</a>
                    </li></ul>
            </nav>

        </div>

        <div class="col-md-5 mt-2 text-right">

            <p class="text-right">
                <a href="https://carleton.ca/history" target="_blank" rel="noopener">
                    <img class="img-fluid" src="https://cu-production.s3.amazonaws.com/theme-admissions-2020/assets/img/cu-white-outlined-21.svg" alt="Department of History home">
                </a>
            </p>
            <p class="text-white" id="footer-credits">
                <small><em>built with</em>
                    <a href="https://collectionbuilder.github.io/" target="_blank" rel="noopener" title="CollectionBuilder">
                        <img src="/test-collectionbuilder/assets/img/collectionbuilder-logo.png" class="img-fluid" alt="CollectionBuilder home" >
                    </a>
                </small>
            </p>

        </div>

    </div>

    <div class="col-md-12 text-center pt-3 pb-1">
        <p class="text-white">Last updated 2022</p>
    </div>

</footer>
    <!-- Optional JS for Bootstrap: jQuery first, then Bootstrap bundle JS -->
<script src="/test-collectionbuilder/assets/lib/jquery-3.6.0.min.js"></script>
<script src="/test-collectionbuilder/assets/lib/bootstrap.bundle.min.js"></script>
<!-- load other js -->
<script src="/test-collectionbuilder/assets/lib/lazysizes.min.js" async></script>

<!-- load leaflet dependencies -->
<script src="/test-collectionbuilder/assets/lib/leaflet/leaflet.js"></script>
<script src="/test-collectionbuilder/assets/lib/leaflet/fuse.min.js"></script>
<script src="/test-collectionbuilder/assets/lib/leaflet/leaflet.fusesearch.js"></script>
<script src="/test-collectionbuilder/assets/lib/leaflet/leaflet.markercluster.js"></script>
<script src="/test-collectionbuilder/assets/lib/leaflet/leaflet.markercluster.freezable.js"></script>

<script>
(function(){
    /* add collection map data */
    var geodata = { "type": "FeatureCollection", "features": [ 
    
    ]};

    /* init map and set zoom */
    if (window.location.hash) {
        /* if url has a hash, it is split by comma into coordinates that set the view */
        var hashfilter = decodeURIComponent(location.hash.substr(1));
        var latitudeHash = hashfilter.split(',')[0]
        var longitudeHash = hashfilter.split(',')[1]
        var map = L.map('map').setView([latitudeHash,longitudeHash],16);
    } else {
        var map = L.map('map').setView([46.727485,-117.014185],5);
    }

    /* add map layer options */
    var Esri_WorldStreetMap = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}', {
        attribution: 'Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012'
    });
    var Esri_NatGeoWorldMap = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}', {
        attribution: 'Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC',
        maxZoom: 16
    });
    var Esri_WorldImagery = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
        attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
    });
    /* add base map switcher */
    var baseMaps = {
        "Esri World StreetMap": Esri_WorldStreetMap,
        "Esri National Geo": Esri_NatGeoWorldMap,
        "Esri Imagery": Esri_WorldImagery
    };
    L.control.layers(baseMaps).addTo(map);
    /* load base map */
    Esri_WorldStreetMap.addTo(map);

    
    /* add search, https://github.com/naomap/leaflet-fusesearch */
    var options = {
        title: 'Search Map Items',
        placeholder: 'Search map items...',
        threshold: 0.35 
    };
    var searchCtrl = L.control.fuseSearch(options);
    searchCtrl.addTo(map);
    searchCtrl.indexFeatures(geodata.features, ["title","date","creator","subject","location"]);

    
    /* create cluster group */
    var markers = L.markerClusterGroup({ maxClusterRadius: 25, singleMarkerMode: true , removeOutsideVisibleBounds: false });

    /* get icons function */ 
    /* 
    get a theme icon based on display_template or format 
    return svg sprite
*/
function getIcon(objectTemplate,objectFormat) {
    var iconTemplate, iconId;
    if (objectTemplate && objectTemplate != "") {
        iconTemplate = objectTemplate;
    } else if (objectFormat && objectFormat != "") {
        iconTemplate = objectFormat;
    } else {
        iconTemplate = ""
    }
    // choose icon
    if (iconTemplate.includes("image")) {
        iconId = "icon-image";
    } else if (iconTemplate.includes("pdf")) {
        iconId = "icon-pdf";
    } else if (iconTemplate.includes("video")) {
        iconId = "icon-video";
    } else if (iconTemplate.includes("audio")) {
        iconId = "icon-audio";
    } else {
        iconId = "icon-default";
    }
    // svg sprite as thumb
    return '<svg class="bi text-body" fill="currentColor"><use xlink:href="/test-collectionbuilder/assets/lib/cb-icons.svg#' + iconId + '"/></svg>';
}

    /* object popup function */
    function objectPopups(feature, layer) {
        /* bind feature for search */
        feature.layer = layer;
        // find item link
        var itemHref = '/test-collectionbuilder/items/' + feature.properties.id + '.html';
        // find image
        var thumbImg;
        if (feature.properties.img) {
            thumbImg = '<img class="map-thumb" src="' + feature.properties.img + '" alt="item thumbnail">';
        } else {
            thumbImg = getIcon(feature.properties.template,feature.properties.format)
        }
        // set up popup content
        var popupTemplate = '<h4><a class="text-dark" href="' + itemHref + '">' +
            feature.properties.title + '</a></h4><div class="text-center"><a href="' + itemHref + 
            '" >' + thumbImg + '</a></div><p>';
        
        if (feature.properties["date"]) {
            popupTemplate += '<strong>Date:</strong> ' + feature.properties["date"] + '<br>'; 
        }
        
        if (feature.properties["creator"]) {
            popupTemplate += '<strong>Creator:</strong> ' + feature.properties["creator"] + '<br>'; 
        }
        
        if (feature.properties["subject"]) {
            popupTemplate += '<strong>Subjects:</strong> ' + feature.properties["subject"] + '<br>'; 
        }
        
        if (feature.properties["location"]) {
            popupTemplate += '<strong>Location:</strong> ' + feature.properties["location"] + '<br>'; 
        }
        
        popupTemplate += '</p><div class="text-center"><a class="btn btn-light" href="' + itemHref + '" >View Item</a></div>';
        layer.bindPopup(popupTemplate);
    }
    function objectMarkers(feature,latlng) {
        var marker = L.marker(latlng);
        markers.addLayer(marker);
        return marker;
    }

    /* add objects from geoJson features */
    L.geoJson(geodata, {
        onEachFeature: objectPopups,
        pointToLayer: objectMarkers
    });
    map.addLayer(markers);
    
    
    /* uncluster when search is clicked */
    document.querySelector('a.button').addEventListener("click", function() {
        markers.disableClustering();
    });
    /* recluster when search is closed */
    document.querySelector('a.close').addEventListener("click", function() {
        markers.enableClustering();
        document.querySelector('input.search-input').value = "";
    });

})();

</script>

    <script>
    // When the user scrolls down from the top of the document, show the button
    window.onscroll = function () {
        if (document.body.scrollTop > 500 || document.documentElement.scrollTop > 500) {
            document.getElementById("scroll-to-top").style.display = "block";
        } else {
            document.getElementById("scroll-to-top").style.display = "none";
        }
    }
    // scroll to top function
    function scrollToTop() {
        $('html, body').animate({scrollTop: 0}, 750);
    }
</script>
<button id="scroll-to-top" type="button" class="btn btn-link" onclick="scrollToTop();" title="Back to Top" aria-label="Back to Top">
    <svg class="bi icon-sprite" role="img" aria-label="Up Arrow">
        <use xlink:href="/test-collectionbuilder/assets/lib/cb-icons.svg#icon-back-to-top"/>
    </svg>
</button>
  </body>
</html>