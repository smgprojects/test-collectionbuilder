<!doctype html>
<html lang="en">
  <head prefix="og: http://ogp.me/ns#">
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Site Search | Department of History, Carleton University</title>
<link rel="shortcut icon" type="image/x-icon" href="/test-collectionbuilder/favicon.ico">
<!--

  _____     ____        __  _           ___       _ __   __       
 / ___/__  / / /__ ____/ /_(_)__  ___  / _ )__ __(_) /__/ /__ ____
/ /__/ _ \/ / / -_) __/ __/ / _ \/ _ \/ _  / // / / / _  / -_) __/
\___/\___/_/_/\__/\__/\__/_/\___/_//_/____/\_,_/_/_/\_,_/\__/_/   
                                                                
    built with CollectionBuilder-CSV
    https://github.com/CollectionBuilder/collectionbuilder-csv
-->
<meta name="generator" content="collectionbuilder-csv" />
<meta http-equiv="Content-Language" content="en-us" >

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.3.1/simplex/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="/test-collectionbuilder/assets/css/custom.css" type="text/css">



<meta name="description" content="This site draws from the Carleton Institutional repository of student theses, and other sources, to bring all of our students&#39; degree work into one location. Built with CollectionBuilder from the Digital Initiatives, University of Idaho Library">
<meta name="author" content="SMG Adapting CollectionBuilder, Department of History" >
<!-- Open Graph meta -->
<meta property="og:title" content="Site Search | Department of History, Carleton University" />
<meta property="og:description" content="This site draws from the Carleton Institutional repository of student theses, and other sources, to bring all of our students&#39; degree work into one location. Built with CollectionBuilder from the Digital Initiatives, University of Idaho Library" />
<meta property="og:site_name" content="Department of History, Carleton University" />
<meta property="og:type" content="website" />
<meta property="og:image" content="https://carleton.ca/history/wp-content/uploads/seated-student-in-grad-offices.jpg" />
<meta property="og:image:alt" content="Department of History, Carleton University" />
<meta property="og:url" content="https://shawngraham.github.io/test-collectionbuilder/search/" />
<meta property="og:locale" content="en_US" />
<!-- schema.org JSON-LD -->
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"Site Search | Department of History, Carleton University","publisher": { "@context": "https://schema.org", "@type": "Organization", "name": "Department of History", "url": "https://carleton.ca/history", "logo": "https://cu-production.s3.amazonaws.com/theme-admissions-2020/assets/img/cu-white-outlined-21.svg" },"description":"This site draws from the Carleton Institutional repository of student theses, and other sources, to bring all of our students' degree work into one location. Built with CollectionBuilder from the Digital Initiatives, University of Idaho Library","image":"https://carleton.ca/history/wp-content/uploads/seated-student-in-grad-offices.jpg","url":"https://shawngraham.github.io/test-collectionbuilder/search/"}</script> 
<!-- breadcrumbs schema -->
<script type="application/ld+json">{"@context": "http://schema.org", "@type": "BreadcrumbList", "itemListElement": [{ "@type": "ListItem", "position": 1, "item": { "@id": "https://shawngraham.github.io/test-collectionbuilder/", "name": "Department of History, Carleton University" } },{ "@type": "ListItem", "position": 2, "item": { "@id": "https://shawngraham.github.io/test-collectionbuilder/search/", "name": "Site Search" } }] }</script>


<!-- Analytics --> 
<!-- Last build date: 2022-01-17 -->
  </head>
  <body>
    <div id="skip-to-content"><a href="#maincontent">Skip to main content</a></div>
    <div class="container">
    <div class="row align-items-center">
        <div id="title" class="col-md-9">
            <h1><a class="text-dark font-weight-normal" href="/test-collectionbuilder/" >Department of History, Carleton University</a></h1>	 
            <p>A showcase for student theses, major research essays, and other projects</p>
        </div>
        <div class="col-md-3 d-none d-lg-block text-right">
            <a class="btn btn-outline-light" href="https://carleton.ca/history" target="_blank" rel="noopener">
                <img class="img-fluid" src="https://cu-production.s3.amazonaws.com/theme-admissions-2020/assets/img/cu-white-outlined-21.svg" title="Department of History" alt="Department of History home" >
            </a>
        </div>
    </div>
</div>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#page-nav" aria-controls="page-nav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <span class="d-lg-none text-right">
            <a href="https://carleton.ca/history" target="_blank" rel="noopener">
                <img class="img-fluid" id="mobile-nav-image" src="https://cu-production.s3.amazonaws.com/theme-admissions-2020/assets/img/cu-white-outlined-21.svg" title="Department of History" alt="Department of History home" >
            </a>
        </span>

        <div class="collapse navbar-collapse" id="page-nav">
            <ul class="navbar-nav mr-auto">
                
                <li class="nav-item ">
                    <a class="nav-link " href="/test-collectionbuilder/">Home</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link " href="/test-collectionbuilder/browse.html">Browse</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link " href="/test-collectionbuilder/subjects.html">Subjects</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link " href="/test-collectionbuilder/locations.html">Locations</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link " href="/test-collectionbuilder/map.html">Map</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link " href="/test-collectionbuilder/timeline.html">Timeline</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link " href="/test-collectionbuilder/data.html">Data</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link " href="/test-collectionbuilder/about.html">About</a>
                </li></ul>
            <script>
    function site_search() {
        var query = document.getElementById("site-search").value;
        window.open("/test-collectionbuilder/search/index.html?q=" + encodeURIComponent(query), "_self" );
    }
</script>
<form class="form-inline my-2 my-lg-0" role="search" id="search" onsubmit="site_search(); return false;">
    <div class="input-group">
        <input id="site-search" class="form-control " type="text" placeholder="Search" aria-label="Search box">
        <div class="input-group-append">
            <button class="btn btn-light" type="submit">
                <span id="search-icon"><svg viewBox="0 0 1024 974" height="16px" width="20px"><path d="M960 832L710.875 582.875C746.438 524.812 768 457.156 768 384 768 171.96900000000005 596 0 384 0 171.969 0 0 171.96900000000005 0 384c0 212 171.969 384 384 384 73.156 0 140.812-21.562 198.875-57L832 960c17.5 17.5 46.5 17.375 64 0l64-64C977.5 878.5 977.5 849.5 960 832zM384 640c-141.375 0-256-114.625-256-256s114.625-256 256-256 256 114.625 256 256S525.375 640 384 640z"/></svg></span>
                <span class="sr-only">Search Objects</span>
            </button>
        </div>
    </div>
</form>
        </div>
    </div>    
</nav>

    <main id="maincontent" role="main">
      <div class="container mt-4">
  <!-- Button trigger modal -->
<button type="button" class="btn btn-outline-info float-right" data-toggle="modal" data-target="#operators">Search Options</button>
<!-- Modal -->
<div class="modal fade" id="operators" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalLabel">Lunr Search Options</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
                <p>These advanced options can be added to your query in the search box to refine your results:</p> 
                <ul>
                    <li>Search a specific field: use the field name, colon, then your query, e.g. <code>title:foo</code>, <code>date:1911</code>, <code>subject:tree</code>. In this collection you can use title, date, creator, description, subject, location.</li>
                    <li>Wildcards: add <code>*</code> to match any character(s), e.g. <code>foo*</code>, <code>*oo</code>. This is helpful for using a root to find words with all related endings.</li>
                    <li>Fuzzy match: add <code>~</code> plus a number at the end of your query to specify a higher level of fuzziness in search, e.g. <code>foo~1</code>. This can help with misspellings.</li>
                    <li>Boost term: add <code>^</code> plus a number to boost the relevance of a term in your query, e.g. <code>foo^10</code>. This can help reduce clutter of unrelated results if one of your terms is most important.</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<h2 id="full-metadata-search">Full metadata search:</h2>


<div class="ml-3 mt-3">
    <form class="" role="search" id="lunrSearch" onsubmit="lunr_search(); return false;">
        <div class="input-group input-group-lg">
            <input id="lunrSearchBox" class="form-control " type="text" placeholder="Enter your search term..." >
            <div class="input-group-append">
                <button class="btn btn-success" type="submit">
                    Search
                </button>
            </div>
        </div>
    </form>
    
    <table id="lunrResults" class="table table-responsive"></table>
</div>

<div class="mt-3">
    <p class="text-muted">Fuzzy search powered by <a href="https://lunrjs.com/" target="_blank" rel="noopener">Lunr.js</a>. <em>May take a second to load large collections!</em></p>
    
</div>

</div>
    </main>
    <footer class="bg-dark pt-4 container-fluid mt-3">

    <div class="row border-bottom border-white pb-4 mb-2">

        <div class="col-md-7  px-4 mt-2">

            <h4><a href="/test-collectionbuilder/" class="text-white font-weight-normal">Department of History, Carleton University</a></h4>
            <p class="text-white"><small>This site draws from the Carleton Institutional repository of student theses, and other sources, to bring all of our students' degree work into one location. Built with CollectionBuilder from the Digital Initiatives, University of Idaho Library</small></p>
            <nav>
                <ul class="nav nav-pills ">
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/test-collectionbuilder/">Home</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/test-collectionbuilder/browse.html">Browse</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/test-collectionbuilder/subjects.html">Subjects</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/test-collectionbuilder/locations.html">Locations</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/test-collectionbuilder/map.html">Map</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/test-collectionbuilder/timeline.html">Timeline</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/test-collectionbuilder/data.html">Data</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/test-collectionbuilder/about.html">About</a>
                    </li></ul>
            </nav>

        </div>

        <div class="col-md-5 mt-2 text-right">

            <p class="text-right">
                <a href="https://carleton.ca/history" target="_blank" rel="noopener">
                    <img class="img-fluid" src="https://cu-production.s3.amazonaws.com/theme-admissions-2020/assets/img/cu-white-outlined-21.svg" alt="Department of History home">
                </a>
            </p>
            <p class="text-white" id="footer-credits">
                <small><em>built with</em>
                    <a href="https://collectionbuilder.github.io/" target="_blank" rel="noopener" title="CollectionBuilder">
                        <img src="/test-collectionbuilder/assets/img/collectionbuilder-logo.png" class="img-fluid" alt="CollectionBuilder home" >
                    </a>
                </small>
            </p>

        </div>

    </div>

    <div class="col-md-12 text-center pt-3 pb-1">
        <p class="text-white">Last updated 2022</p>
    </div>

</footer>
    <!-- Optional JS for Bootstrap: jQuery first, then Bootstrap bundle JS -->
<script src="/test-collectionbuilder/assets/lib/jquery-3.6.0.min.js"></script>
<script src="/test-collectionbuilder/assets/lib/bootstrap.bundle.min.js"></script>
<!-- load other js -->
<script src="/test-collectionbuilder/assets/lib/lazysizes.min.js" async></script>

<script src="/test-collectionbuilder/assets/lib/lunr.min.js"></script>
<script src="/test-collectionbuilder/assets/js/lunr-store.js"></script>
<script>
/* initialize lunr */
var idx = lunr(function () {
  /* add index fields from config */
  this.ref('id')
  
  this.field("title")
  
  this.field("date")
  
  this.field("creator")
  
  this.field("description")
  
  this.field("subject")
  
  this.field("location")
  

  //this.pipeline.remove(lunr.trimmer)

  for (var item in store) {
    this.add({
      
      "title": store[item]["title"],
      
      "date": store[item]["date"],
      
      "creator": store[item]["creator"],
      
      "description": store[item]["description"],
      
      "subject": store[item]["subject"],
      
      "location": store[item]["location"],
      
      id: item
    })
  }
});

/* search function */
function lunr_search () {
  var resultdiv = $('#lunrResults');
  var query = $('#lunrSearchBox').val();//.toLowerCase();
  /* basic search that supports operators */
  var result = idx.search(query); 
  /* more fuzzy search, but doesn't support operators:
  var result =
    idx.query(function (q) {
      query.split(lunr.tokenizer.separator).forEach(function (term) {
        q.term(term, { boost: 100 })
        if(query.lastIndexOf(" ") != query.length-1){
          q.term(term, {  usePipeline: false, wildcard: lunr.Query.wildcard.TRAILING, boost: 10 })
        }
        if (term != ""){
          q.term(term, {  usePipeline: false, editDistance: 1, boost: 1 })
        }
      })
    });*/
  resultdiv.empty();
  resultdiv.prepend('<tr><td><h4 class="mt-3">' + result.length + ' Result(s) found</h4></td></tr>');
  for (var item in result) {
    var ref = result[item].ref;
    var searchitem =
      '<tr>'+
          '<td class="">' +
            
            
            
            '<p class="h4"><a href="/test-collectionbuilder/items/' + store[ref].id + '.html">' + store[ref]["title"]  + '</a></p>' +
            '<p class="ml-3">';
              
            
              if(store[ref]["date"]) {
                searchitem += store[ref]["date"] + '<br> '; }
              
            
              if(store[ref]["description"]) {
                searchitem += store[ref]["description"] + '<br> '; }
              
            
              if(store[ref]["subject"]) {
                searchitem += store[ref]["subject"] + '<br> '; }
              
              searchitem += '</p></td>' +
      '</tr>';
    resultdiv.append(searchitem);
  }
}
/* init search box and get query string */
$(document).ready(function() {
  if (window.location.search) {
    var queryString = decodeURIComponent(window.location.search.substring(1).split("=")[1]);
    $('#lunrSearchBox').val(queryString);
    lunr_search ();
  }
});
</script>

    <script>
    // When the user scrolls down from the top of the document, show the button
    window.onscroll = function () {
        if (document.body.scrollTop > 500 || document.documentElement.scrollTop > 500) {
            document.getElementById("scroll-to-top").style.display = "block";
        } else {
            document.getElementById("scroll-to-top").style.display = "none";
        }
    }
    // scroll to top function
    function scrollToTop() {
        $('html, body').animate({scrollTop: 0}, 750);
    }
</script>
<button id="scroll-to-top" type="button" class="btn btn-link" onclick="scrollToTop();" title="Back to Top" aria-label="Back to Top">
    <svg class="bi icon-sprite" role="img" aria-label="Up Arrow">
        <use xlink:href="/test-collectionbuilder/assets/lib/cb-icons.svg#icon-back-to-top"/>
    </svg>
</button>
  </body>
</html>